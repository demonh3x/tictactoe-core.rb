#!/usr/bin/env ruby

dirname = File.expand_path(File.dirname(File.dirname(__FILE__))) + "/lib"
$LOAD_PATH.unshift(dirname) unless $LOAD_PATH.include?(dirname)

require 'Coordinator'
require 'Cli'
require 'Game'
require 'ThreeByThreeBoard'

board = ThreeByThreeBoard.new
icons = {:x => 'X', :o => 'O'}
coordinator = Coordinator.new(
  Game.new(board), 
  [
    {:player => :x, :ui => Cli.new($stdin, $stdout, icons, board, :x)},
    {:player => :o, :ui => Cli.new($stdin, $stdout, icons, board, :o)},
  ]
)

while (!coordinator.finished?)
  coordinator.step
end

